<!DOCTYPE html>
<html> 
	<head>
		<title>bookcase</title>  
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">	 
		<meta name="author" content="Zidan Bian" />
	
		<link href="css/normalize.css" rel="stylesheet"> 
		<link href="css/foundation5.min.css" rel="stylesheet"> 
		<link href="css/case.css?v=1" rel="stylesheet"> 
	
		<script src="js/lib/jquery-1.10.2.min.js" type="text/javascript"></script>
		<script src="js/lib/jquery.cookie.js" type="text/javascript"></script>
		<script src="js/lib/underscore-min.js" type="text/javascript"></script> 	 
		<script src="js/lib/backbone-min.js" type="text/javascript"></script> 	 
		<script src="js/lib/backbone.localStorage.js"></script>

  		<script src="js/custom/case.js"></script> 	
	</head>

	<body>

		<fieldset id="control-panel" class="row">
			<legend><strong>Book Case Control Panel</strong></legend>
			<div class="sort-shelf columns large-4 small-12">
				<label>organize shelves by genre</label>
				<select class="organize">
					<option selected="selected" value="0">--select--</option>
					<option value="asc">ascending order</option>
					<option value="desc">descending order</option>
				</select>
			</div>
			<div class="add-book columns large-4 small-12">
				<label>add book</label>
				<input type="text" placeholder="title" class="title" id="add-book-title" />
				<input type="text" placeholder="ISBN" class="isbn" />
				<input type="text" placeholder="author" class="author" />
				<!-- backbone to populate the values -->
				<select class="genre">
					<option value="" selected="selected">--genre--</option>
				</select>
				<!-- backbone to populate the values -->
				<select class="shelf">
					<option value="" selected="selected">--shelf--</option>
				</select>
				<input type="button" value="ADD" class="add-book-button" />
				<span class="msg"></span>
			</div>
			<div class="remove-book columns large-4 small-12">
				<label>remove book</label>
				<!-- backbone to populate the values -->
				<select class="book-to-remove">
					<option value="" selected="selected">--select ISBN--</option>
				</select>
				<input type="button" value="REMOVE" class="remove-book-button" />
				<span class="msg"></span>
			</div>
		</fieldset> 

		<ul class="book-case row">
			<!-- backbone template -->
		</ul>
		 
		<script type="text/html" id="shelves"> 
			<div class="shelf-wrapper">
			 	<div class='shelf-id'><strong>shelf id:</strong> <%= id %></div>
			 	<div class='shelf-title'><strong>shelf title:</strong> <%= title %></div> 
			 	<div class='shelf-books'> </div>
			</div> 
		</script>

		<script type="text/html" id="books">
		 	<ol>
		 		<% 
	 			for (var i = 0; i < books.length; i++) { 
	 				// only render books that belong to the shelf
 					if (books[i].shelf === this.shelfId) { 
	 			%>
					<li class="book" genre="<%=books[i].genre%>" isbn="<%= books[i].isbn %>" id="book-<%= books[i].isbn %>" >
						<a href="#" draggable="true">
							<p><strong>title: </strong><%= books[i].title %></p>	
							<p><strong>isbn: </strong><%= books[i].isbn %></p>
							<p><strong>author: </strong><%= books[i].author %></p>
							<p><strong>genre: </strong><%= books[i].genre %></p>
						</a>
					</li>	
				<% 
					} 
				} 
				%> 
			</ol> 
		</script>

		
		<script>
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		  ga('create', 'UA-41233908-1', 'bianzidan.com');
		  ga('send', 'pageview');
		</script> 
	</body>
</html>	
	
 